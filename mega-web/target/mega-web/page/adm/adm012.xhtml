<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<f:view xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough" encoding="UTF-8" contentType="text/html;charset=UTF-8">
	<html xmlns="http://www.w3.org/1999/xhtml">
<h:head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"></meta>
	<title>#{adm012Bean.title}</title>
	<link href="#{request.contextPath}/skins/skin.css" rel="stylesheet" type="text/css" />
	<link href="#{request.contextPath}/skins/jquery-ui.css" rel="stylesheet" type="text/css" />
	<script src="#{request.contextPath}/js/jquery-2.1.1.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/tinymce/tinymce.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/jquery-ui.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/hashset.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/hashtable.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/jquery.numberformatter.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/jquery.ui.timepicker.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/common.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/data-table.js" type="text/javascript"></script>
	<script src="#{request.contextPath}/js/splitter.js" type="text/javascript"></script>
</h:head>
<h:body>
	<h:form id="mainForm" prependId="false" enctype="multipart/form-data">
		<ui:include src="/include/common.xhtml" />
		<ui:include src="/include/datepicker.xhtml" />
		<ui:include src="/include/message.xhtml" />
		<!-- Form action start -->
		<div id="formaction" class="form-action container">
			<div class="row">
				<div class="col-18">
					<h:commandButton id="cbClose" styleClass="btn btn-default btn-margin" value="#{res['common.button.close']}"
						action="#{adm012Bean.doAction('closeAction')}" immediate="true"></h:commandButton>
					<h:commandButton id="cbSave" styleClass="btn btn-primary btn-margin" value="#{res['common.button.save']}"
						action="#{adm012Bean.doAction('saveAction')}" disabled="#{adm012dto.disabled('cbSave')}" rendered="#{adm012dto.rendered('cbSave')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<h:commandButton id="cbDisable" styleClass="btn btn-default btn-margin" value="#{res['common.button.disable']}"
						action="#{adm012Bean.doAction('disableAction')}" disabled="#{adm012dto.disabled('cbDisable')}" rendered="#{adm012dto.rendered('cbDisable')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<h:commandButton id="cbEnable" styleClass="btn btn-default btn-margin" value="#{res['common.button.enable']}"
						action="#{adm012Bean.doAction('enableAction')}" disabled="#{adm012dto.disabled('cbEnable')}" rendered="#{adm012dto.rendered('cbEnable')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<h:commandButton id="cbLock" styleClass="btn btn-default btn-margin" value="#{res['common.button.lock']}"
						action="#{adm012Bean.doAction('lockAction')}" disabled="#{adm012dto.disabled('cbLock')}" rendered="#{adm012dto.rendered('cbLock')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<h:commandButton id="cbUnlock" styleClass="btn btn-default btn-margin" value="#{res['common.button.unlock']}"
						action="#{adm012Bean.doAction('unlockAction')}" disabled="#{adm012dto.disabled('cbUnlock')}" rendered="#{adm012dto.rendered('cbUnlock')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
					<h:commandButton id="cbResetPassword" styleClass="btn btn-default btn-margin" style="width:auto;" value="#{res['common.button.resetpassword']}"
						action="#{adm012Bean.doAction('resetPasswordAction')}" disabled="#{adm012dto.disabled('cbResetPassword')}"
						rendered="#{adm012dto.rendered('cbResetPassword')}">
						<f:ajax execute="@form" render="@form" />
					</h:commandButton>
				</div>
				<div class="col-6 text-right">
					<h:commandButton id="cbDelete" styleClass="btn btn-default btn-margin" value="#{res['common.button.delete']}"
						action="#{adm012Bean.doAction('deleteAction')}"></h:commandButton>
				</div>
			</div>
		</div>
		<!-- Form action end -->
		<div id="content" class="content">
			<!-- Form content start -->
			<div id="formcontent" class="form-content" style="overflow-y: auto;">

				<div class="container24">
					<!-- Row Title -->
					<div class="row row-higher">
						<div class="col-24">
							<div class="control text-center">
								<h:outputText styleClass="content-title" value="#{res['adm01.title']}"></h:outputText>
							</div>
						</div>
					</div>
				</div>

				<div class="container24">
					<div class="row">
						<div class="col-9">
							<div class="container9">
								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.account']}"></h:outputText>
										</div>
									</div>
									<div class="col-3">
										<div class="control">
											<h:inputText id="itAccount" styleClass="form-control" value="#{adm012dto.user.account}" autocomplete="off"
												p:placeholder="#{res['common.input.required']}"></h:inputText>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.expiry']}"></h:outputText>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:inputText id="itAccountExpiry" styleClass="form-control" value="#{adm012dto.user.accountExpiry}" autocomplete="off"
												p:placeholder="#{uiconfig.patternDate}">
												<f:convertDateTime pattern="#{uiconfig.patternDate}" timeZone="#{uiconfig.timeZone}" locale="#{uiconfig.locale}" />
											</h:inputText>
										</div>
									</div>
								</div>

								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.group']}"></h:outputText>
										</div>
									</div>
									<div class="col-7">
										<div class="control">
											<h:selectOneMenu id="somGroup" value="#{adm012dto.user.userGroup}" styleClass="form-control">
												<f:selectItems value="#{adm012dto.groupItems}" var="item" itemValue="#{item.value}" itemLabel="#{item.label}" />
											</h:selectOneMenu>
										</div>
									</div>
								</div>

								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.status']}"></h:outputText>
										</div>
									</div>
									<div class="col-5">
										<div class="control">
											<h:selectBooleanCheckbox id="sbcActive" value="#{adm012dto.user.active}" disabled="true" />
											<h:outputText styleClass="form-output" value="#{res['adm01.label.active']}"></h:outputText>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:selectBooleanCheckbox id="sbcOpen" value="#{adm012dto.user.open}" disabled="true" />
											<h:outputText styleClass="form-output" value="#{res['adm01.label.open']}"></h:outputText>
										</div>
									</div>
								</div>

								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.password']}"></h:outputText>
										</div>
									</div>
									<div class="col-3">
										<div class="control">
											<h:inputSecret id="itPassword" styleClass="form-control" value="#{adm012dto.password}"
												p:placeholder="#{!adm012dto.editPass ? '' : res['common.input.required']}" disabled="#{!adm012dto.editPass}">
											</h:inputSecret>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.expiry']}"></h:outputText>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:inputText id="itPasswordExpiry" styleClass="form-control" value="#{adm012dto.user.passwordExpiry}" autocomplete="off"
												p:placeholder="#{uiconfig.patternDate}">
												<f:convertDateTime pattern="#{uiconfig.patternDate}" timeZone="#{uiconfig.timeZone}" locale="#{uiconfig.locale}" />
											</h:inputText>
										</div>
									</div>
								</div>
							</div>
						</div>

						<!-- Image -->
						<div class="col-4">
							<div class="image-container" style="border: 1px solid #ccc; width: 120px; height: 120px; margin-left: 30px;">
								<div class="image-event">
									<h:commandButton id="cbChangeImage" styleClass="btn btn-default btn-margin" style="width:60px;" value="#{res['common.button.selectimage']}"
										onclick="$('#ifImage').click();return false;">
										<f:ajax execute="@form" render="@form"></f:ajax>
									</h:commandButton>
									<h:commandButton id="cbDeleteImage" styleClass="btn btn-default btn-margin" style="width:40px;" value="#{res['common.button.delete']}"
										action="#{adm012Bean.doAction('deleteImageAction')}" immediate="true">
										<f:ajax execute="@this" render="@this gImage"></f:ajax>
									</h:commandButton>
								</div>
								<h:graphicImage id="gImage" value="#{adm012dto.image}" style="magin:0px;width: 120px;" />
							</div>
							<h:inputFile id="ifImage" styleClass="hide" value="#{adm012Bean.image}">
								<f:ajax execute="@this" render="@this gImage" listener="#{adm012Bean.doAction('uploadImageAction')}"></f:ajax>
							</h:inputFile>
						</div>

						<div class="col-11">
							<div class="container11">
								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.name']}"></h:outputText>
										</div>
									</div>
									<div class="col-9">
										<div class="control">
											<h:inputText id="itName" styleClass="form-control" value="#{adm012dto.user.name}" autocomplete="off"
												p:placeholder="#{res['common.input.required']}" disabled="#{adm012dto.user.employeeId ne null}"></h:inputText>
										</div>
									</div>
								</div>

								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.address']}"></h:outputText>
										</div>
									</div>
									<div class="col-9">
										<div class="control">
											<h:inputText id="itAddress" styleClass="form-control" value="#{adm012dto.user.address}" autocomplete="off"
												disabled="#{adm012dto.user.employeeId ne null}"></h:inputText>
										</div>
									</div>
								</div>

								<div class="row row-height">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.phone']}"></h:outputText>
										</div>
									</div>
									<div class="col-3">
										<div class="control">
											<h:inputText id="itPhone" styleClass="form-control" value="#{adm012dto.user.phone}" autocomplete="off"
												disabled="#{adm012dto.user.employeeId ne null}"></h:inputText>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.email']}"></h:outputText>
										</div>
									</div>
									<div class="col-4">
										<div class="control">
											<h:inputText id="itEmail" styleClass="form-control" value="#{adm012dto.user.email}" autocomplete="off"
												disabled="#{adm012dto.user.employeeId ne null}"></h:inputText>
										</div>
									</div>
								</div>

								<div class="row row-higher">
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.employeecode']}"></h:outputText>
										</div>
									</div>
									<div class="col-3">
										<div class="control">
											<h:inputText id="itEmployeeName" styleClass="form-control" value="#{adm012dto.user.employeeCode}" autocomplete="off"></h:inputText>
											<h:inputHidden id="itEmployeeId" value="#{adm012dto.user.employeeId}"></h:inputHidden>
											<h:commandButton id="cbChangeEmployee" styleClass="hide" value="Change Employee" action="#{adm012Bean.doAction('changeEmployeeAction')}">
												<f:ajax execute="@form" render="@form"></f:ajax>
											</h:commandButton>
										</div>
									</div>
									<div class="col-2">
										<div class="control">
											<h:outputText styleClass="form-label" value="#{res['adm01.label.branch']}"></h:outputText>
										</div>
									</div>
									<div class="col-4">
										<div class="control">
											<h:selectOneMenu id="somBranch" styleClass="form-control" value="#{adm012dto.user.branchId}">
												<f:selectItems value="#{adm012dto.branchItems}" var="item" itemValue="#{item.value}" itemLabel="#{item.label}" />
											</h:selectOneMenu>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="container24">
					<div class="row">
						<div class="col-10">
							<div class="control">
								<h:outputText value="#{res['adm01.label.role']}" />
							</div>
						</div>
						<div class="col-14">
							<div class="control">
								<h:outputText value="#{res['adm01.label.business']}" />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-10">
							<div class="table" style="position: relative; margin: 0px 5px; border: none;">
								<h:dataTable id="tableMainMenu" styleClass="table border" headerClass="table-header" rowClasses="table-row-odd,table-row-even"
									value="#{adm012dto.userRole}" var="row" cellspacing="0" cellpadding="0">
									<h:column>
										<f:facet name="header">
											<div style="width: 100px; height: 25px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 100px;" class="col-header">
												<h:outputText value="#{res['adm01.table.rolecode']}" />
											</div>
										</f:facet>
										<div style="width: 100px;" class="form-output">
											<h:outputText value="#{row.roleCode}"></h:outputText>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 180px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 180px;" class="col-header">
												<h:outputText value="#{res['adm01.table.rolename']}" />
											</div>
										</f:facet>
										<div style="width: 180px;" class="form-output">
											<h:outputText value="#{row.roleName}"></h:outputText>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 120px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 120px;" class="col-header">
												<h:outputText value="#{res['adm01.table.leveldata']}" />
											</div>
										</f:facet>
										<div style="width: 120px;" class="form-output text-center">
											<h:outputText value="#{adm012dto.getLevelData(row.levelData)}"></h:outputText>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 50px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 50px;" class="col-header">
												<h:outputText value="#{res['adm01.table.select']}" />
											</div>
										</f:facet>
										<div style="width: 50px;" class="text-center">
											<h:selectBooleanCheckbox value="#{row.selected}" onchange="$(this).parentsUntil('tbody').find('.tableItem-changeSelectRole').click()">
											</h:selectBooleanCheckbox>
											<h:commandButton styleClass="hide tableItem-changeSelectRole" value="Change Select Role"
												action="#{adm012Bean.doAction('changeSelectRoleAction')}">
												<f:ajax execute="@form" render="@form"></f:ajax>
												<f:setPropertyActionListener value="#{row.index}" target="#{adm012dto.rowSelected}" />
											</h:commandButton>
										</div>
									</h:column>
								</h:dataTable>
							</div>
						</div>
						<div class="col-14">
							<div class="table" style="position: relative; margin: 0px 5px; border: none;">
								<h:dataTable id="tableControl" styleClass="table border" headerClass="table-header" rowClasses="table-row-odd,table-row-even"
									value="#{adm012dto.userBusiness}" var="row" cellspacing="0" cellpadding="0">
									<h:column>
										<f:facet name="header">
											<div style="width: 32px;" class="col-header-blank">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 32px;" class="col-header row-header-left last">
												<h:outputText value="#{res['adm01.table.no']}" />
											</div>
										</f:facet>
										<div style="width: 32px;" class="row-header-left last form-output text-right">
											<h:outputText styleClass="form-lable" value="#{row.index}" />
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 100px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 100px;" class="col-header">
												<h:outputText value="#{res['adm01.table.businesscode']}" />
											</div>
										</f:facet>
										<div style="width: 100px;" class="form-output">
											<h:outputText value="#{row.business}"></h:outputText>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 180px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 180px;" class="col-header">
												<h:outputText value="#{res['adm01.table.businessname']}" />
											</div>
										</f:facet>
										<div style="width: 180px;" class="form-output">
											<h:outputText value="#{row.businessName}"></h:outputText>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 120px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 120px;" class="col-header">
												<h:outputText value="#{res['adm01.table.leveldata']}" />
											</div>
										</f:facet>
										<div style="width: 120px; padding-left: 0px; padding-right: 0px;" class="form-control text-center">
											<h:selectOneMenu value="#{row.levelData}">
												<f:selectItems value="#{adm012dto.levelDataItems}" var="item" itemValue="#{item.value}" itemLabel="#{item.label}" />
											</h:selectOneMenu>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 80px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 80px;" class="col-header">
												<h:selectBooleanCheckbox style="margin-top: 0px;" value="#{adm012dto.selectAll1}">
													<f:ajax execute="@form" render="@form" listener="#{adm012Bean.doAction('selectAll1Action')}"></f:ajax>
												</h:selectBooleanCheckbox>
												<h:outputText value="#{res['adm01.table.approve1']}" />
											</div>
										</f:facet>
										<div style="width: 80px;" class="text-center">
											<h:selectBooleanCheckbox value="#{row.levelApprove1}">
											</h:selectBooleanCheckbox>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 80px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 80px;" class="col-header">
												<h:selectBooleanCheckbox style="margin-top: 0px;" value="#{adm012dto.selectAll2}">
													<f:ajax execute="@form" render="@form" listener="#{adm012Bean.doAction('selectAll2Action')}"></f:ajax>
												</h:selectBooleanCheckbox>
												<h:outputText value="#{res['adm01.table.approve2']}" />
											</div>
										</f:facet>
										<div style="width: 80px;" class="text-center">
											<h:selectBooleanCheckbox value="#{row.levelApprove2}">
											</h:selectBooleanCheckbox>
										</div>
									</h:column>

									<h:column>
										<f:facet name="header">
											<div style="width: 80px;">
												<h:outputText value="#{res['common.label.blank']}" />
											</div>
											<div style="width: 80px;" class="col-header">
												<h:selectBooleanCheckbox style="margin-top: 0px;" value="#{adm012dto.selectAll3}">
													<f:ajax execute="@form" render="@form" listener="#{adm012Bean.doAction('selectAll3Action')}"></f:ajax>
												</h:selectBooleanCheckbox>
												<h:outputText value="#{res['adm01.table.approve3']}" />
											</div>
										</f:facet>
										<div style="width: 80px;" class="text-center">
											<h:selectBooleanCheckbox value="#{row.levelApprove3}">
											</h:selectBooleanCheckbox>
										</div>
									</h:column>

								</h:dataTable>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- Form content end -->
		</div>
		<script type="text/javascript">
	
			$(function() {
				var pickerOptions = datePickerOptions();
				$('#itAccountExpiry').datepicker(pickerOptions);
				$('#itPasswordExpiry').datepicker(pickerOptions);
				
				$("#itEmployeeName").autocomplete({
					minLength: 0,
					cacheLength: 0,
					source: function(request, response) {
						$.ajax({
							url: "#{request.contextPath}/employee",
							contentType: "application/json",
							dataType: "json",
							cache: false,
							data: {
								q: request.term
							},
							success: function(data) {
								response(data);
							}
						});
					},
					focus: function(event, ui) {
						return false;
					},
					select: function(event, ui) {
						$("#itEmployeeName").val(ui.item.label);
						$("#itEmployeeId").val(ui.item.value);
						$("#cbChangeEmployee").click();
						return false;
					}
				}).autocomplete("instance")._renderItem = function(ul, item) {
					return $("<li/>")
								.append("<a>" + item.desc + "</a>")
								.appendTo(ul);
				};
			});
			
		</script>
	</h:form>
</h:body>
	</html>
</f:view>